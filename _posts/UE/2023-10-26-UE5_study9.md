---
layout: single
title:  "UE5_Study9 UI CPP로 화면에 나오도록 하기"
categories: UE5
tag: [UE5]
toc: true
toc_sticky: true
sidebar:
    nav: "counts"
---

# 플레이어가 Enemy와 충돌하면 GameOver UI가 화면에 나오도록 하기 

## 미리 설정한 GamodeBase에서 관리하는걸 권장

헤더파일   

```cpp
UPROPERTY(EditAnywhere, Category = "Widget")
TSubclassOf<class UMyUserWidget> widgetClass;	//클래스에서 파생된것을 할당하는 역할
//gameOverWidget은 MyUserWidget을 상속받아 생성된것. =파생된 것
//월드에 생성하고 담을그릇이(gameOverWidget) 필요함


UPROPERTY(EditAnywhere)
class UMyUserWidget* gameOverWidget;		//담을 그릇 역할


UFUNCTION(BlueprintCallable)
void GameOverfromCpp();
```  
  
  


CPP파일에 구현 
  

```cpp
void AMainGame3::GameOverfromCpp()
{
	if (widgetClass)
	{
		//CreateWidget :  월드에 widgetClass를 생성하기  
		//cast 뒤에서 부터 읽기 CreateWidget(GetWorld(), widgetClass)를 
		//생성된 위젯을 "UMyUserWidget" 형 변환
		gameOverWidget = Cast<UMyUserWidget>(CreateWidget(GetWorld(), widgetClass));


		if (gameOverWidget)
		{
			gameOverWidget->AddToViewport();
		}

	}
}
```
  

## Enemy cpp 파일에서 플레이어와 충돌할때 GameOverfromCpp()을 실행시키기
