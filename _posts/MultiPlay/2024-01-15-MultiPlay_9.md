---
layout: single
title:  "UE5_MultiPlay_9_동기화 기초4_RPC"
categories: MultiPlay
tag: [UE5,MultiPlay]
toc: true
toc_sticky: true
sidebar:
    nav: "counts"
---

# RPC (Remote Procedure Call)
원격으로 함수 호출 

## UFUNCTION() 프로퍼티

### 필수사항

* server : 서버만 

* client : 특정 클라이언튼만

* NetMulticast : 모든 클라이언트
   
택1
----------------------------------------------

* reliable : TCP 통신 , 중요한 데이터

* unreliable : UDP 통신 ,그 외 대부분 
택1
------------------------------------------

### 선택사항
   
* with validation : abuse 를 막기위한 선택사항. 세션을 종료시키거나 , 다른 처리를 할수있음 


## 구현

### 헤더파일

```cpp
UFUNCTION(Server, Unreliable,WithValidation) //자동구현으로 서버에서 실행해라 가 만들어짐 . cpp에서는 _Implementation 으로 구현부 정의 
void ServerJump();
	
UFUNCTION(NetMulticast,Unreliable)
void MulticastJump();

```

### CPP 구현파일

```cpp
void ANetWorkProject1Character::JumpStart()
{
	
	if(HasAuthority()) // 서버에서는 바로 ServerJump_Implementation() 실행
	{
	    ServerJump_Implementation();
	}
    else
    {
	    ServerJump(); //서버가 아닌곳에서는  ServerJump() 부터 실행 
    }
}

```
```cpp
void ANetWorkProject1Character::ServerJump_Implementation()
{
	jumpCounts++;
	MulticastJump();
	//NetMulticast,client 의 경우  : ServerJump_Implementation 안쪽에서 실행시켜야 제대로 작동 
}
```

```cpp
void ANetWorkProject1Character::MulticastJump_Implementation() //이미 구현된함수에 추가 
{
	//모든 클라이언트에게 점프라는 행동을 실행
	Jump();
}
```

```cpp

```
##

